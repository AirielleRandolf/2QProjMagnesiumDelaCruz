<!DOCTYPE html>

<html lang="en">
    <head>
        <title>Corona Info - Information and statistics about COVID-19.</title>

        <meta charset="UTF-8">
        <meta name="author" content="Airielle Randolf D. Dela Cruz">
        <meta name="keywords" content="CS3, COVID-19, Coronavirus, CoronaInfo, virus, pandemic">
        <meta name="description" content="Corona Info provides latest information regarding the COVID-19 virus.">
        <meta name="revised" content="06-11-2021">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="stylesheet" href="../css/ci_stylesheet.css">
        <link rel="stylesheet" href="../css/statistics_page.css">

        <!-- fontspaces -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Nunito&family=Varela&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.7/css/all.css">

        <!-- favicon -->
        <link rel="icon" type="image/png" href="../images/logo.png">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">

        </script>
    </head>

    <body>
        <header class="top">
            <div class="top-bar">
                <div class="top-bar-tl">
                    <img src="../images/logo.png" class="site-logo">
                    <div class="site-title">
                        <a href="../index.html">CoronaInfo</a>
                    </div>
                </div>
                
                <div class="search-field">
                    <form>
                        <input type="text" placeholder="Search">
                        <button type="submit"><i class="fa fa-search"></i></button>
                    </form>
                </div>
            </div>

            <nav class="top-navigation">
                <a class="top-nav-link" href="../index.html">HOME</a>
                <a class="top-nav-link" href="info_page.html">INFO</a>
                <a class="top-nav-link" id="current-page" href="statistics_page.html">STATISTICS</a>
                <a class="top-nav-link" href="variants_page.html">VARIANTS</a>
                <a class="top-nav-link" href="myths_page.html">MYTHS</a>
                <a class="top-nav-link" href="effects_page.html">EFFECTS</a>
            </nav>
        </header>

        <div class="hero-image" id="stats-hero-image"></div>

        <header id="stats-header">
            <h1 class="main-heading">COVID-19 Latest Statistics</h1>
        </header>



        <main>
            <div id="totals">
                <div class="stats-card" id="cases-card">
                    <p>Cases:</p>
                    <span id="cases-value"></span>
                </div>

                <div class="stats-card" id="recovered-card">
                    <p>Recovered:</p>
                    <span id="recovered-value"></span>
                </div>

                <div class="stats-card" id="deaths-card">
                    <p>Deaths:</p>
                    <span id="deaths-value"></span>
                </div>
            </div>

            <details>
                <summary><h1 id="first-h1">Daily Tests & Confirmed Cases (Our World in Data)</h1></summary>
                <section class="new-tests-daily">
                    <div class="graph-description">
                        <p>Seen to the right is the graph for new confirmed cases every day. You can add countries of reference by clicking the <br> "<img src="../images/add-country-button.png">" button. The graph for the number of daily tests also appears, though not for all countries.</p>
                    </div>
                    <div class="graph">
                        <iframe src="https://ourworldindata.org/explorers/coronavirus-data-explorer?zoomToSelection=true&time=2020-03-01..latest&facet=none&pickerSort=desc&pickerMetric=new_cases_smoothed_per_million&Metric=Confirmed+cases&Interval=7-day+rolling+average&Relative+to+Population=false&Align+outbreaks=false&country=~OWID_WRL&hideControls=true" loading="lazy" style="width: 100%; height: 600px; border: 0px none;"></iframe>
                    </div>
                </section>
            </details>

            <details>
                <summary><h1>Daily Deaths (Our World in Data)</h1></summary>
                <section class="new-deaths-daily">
                    <div class="graph-description">
                        <p>Seen to the right is the graph for new deaths every day. You can add countries of reference by clicking the <br>  "<img src="../images/add-country-button.png">" button.</p>
                    </div>
                    <div class="graph">
                        <iframe src="https://ourworldindata.org/explorers/coronavirus-data-explorer?zoomToSelection=true&time=2020-03-01..latest&facet=none&pickerSort=desc&pickerMetric=new_deaths_per_million&Metric=Confirmed+deaths&Interval=7-day+rolling+average&Relative+to+Population=false&Align+outbreaks=false&country=~OWID_WRL&hideControls=true" loading="lazy" style="width: 100%; height: 600px; border: 0px none;"></iframe>
                    </div>
                </section>
            </details>

            <details>
                <summary><h1>COVID-19 Details (DOMO)</h1></summary>
                <section class="details-all-time">
                    <div class="graph">
                        <iframe src="https://public.domo.com/cards/dJ45D" width="100%" height="600" marginheight="0" marginwidth="0" frameborder="0"></iframe>
                    </div>
                </section>
            </details>

            <section class="statistics references">
                <h2>References:</h2>
                <p><i>COVID19 Details</i> [Online resource]. (n.d.). DOMO. <a href="https://public.domo.com/cards/aAR5B" target="_blank">https://public.domo.com/cards/aAR5B</a></p>

                <p>Ritchie H., Mathieu E., Rodés-Guirao L., Appel C., Giattino C., Ortiz-Ospina E., Hasell J., Macdonald B., Beltekian D., & Roser M. (2020). <i>Coronavirus Pandemic (COVID-19)</i> [Online resource]. OurWorldInData.org. Retrieved from <a href="https://ourworldindata.org/coronavirus" target="_blank">https://ourworldindata.org/coronavirus</a></p>

                <p>[Untitled image of blue graphs and charts]. (n.d.). Corporate Finance Institute. <a href="https://cdn.corporatefinanceinstitute.com/assets/Statistics-1-1024x711.jpeg" target="_blank">https://cdn.corporatefinanceinstitute.com/assets/Statistics-1-1024x711.jpeg</a></p>
            </section>
        </main>

        

        <footer>
            <section class="site-info">
                <div id="left-footer">
                    <p>"Corona Info" is a site that aims to provide free, up-to-date information about the Coronavirus and the pandemic that started in March 2020.</p>
                </div>

                <div id="right-footer">
                    <p>Contact Info:</p>
                    <p>Email: b2025arddelacruz@pshs.edu.ph</p>
                    <ul>
                        <li><a href="https://www.youtube.com/channel/UC2CH-ZMA4MAxnDX2fJCil-Q" target="_blank"><i class="fab fa-youtube"></i></a></li>
                        <li><a href="https://www.facebook.com/randolf.first/" target="_blank"><i class="fab fa-facebook"></i></a></li>
                        <li><a href="https://twitter.com/randolf_dela" target="_blank"><i class="fab fa-twitter"></i></a></li>
                    </ul>
                    <a href="#">About Me</a>
                </div>
            </section>

            <hr color="white">

            <div class="credits">
                <p>© 2021. Created by Airielle Randolf D. Dela Cruz</p>
            </div>
        </footer>
    </body>

    <script>
        // https://stackoverflow.com/a/2901298
        function commaSeparate(x) {
            return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }


        // https://rapidapi.com/Gramzivi/api/covid-19-data/
        function fetchData() {
            fetch("https://covid-19-data.p.rapidapi.com/totals", {
                "method": "GET",
                "headers": {
                    // nothing here for now
                }
            })
            .then(response => {
                return response.json();
            })
            .then(data => {
                console.log(data);
                document.getElementById("cases-value").innerHTML = commaSeparate(data[0].confirmed);
                document.getElementById("deaths-value").innerHTML = commaSeparate(data[0].deaths);
                document.getElementById("recovered-value").innerHTML = commaSeparate(data[0].recovered);
            })
        }

        fetchData();
    </script>
</html>
